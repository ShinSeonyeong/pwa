{% extends 'layout.html' %} {% block content %}

<h1>기사</h1>
<div>
  {% for item in data %} 예약한 사람 {{loop.index}}
  <div>
    <ul>
      <li>고객명 {{item.name}}</li>
      <li>고객 전화번호 {{item.tel}}</li>
      <li>고객 이메일 {{item.email}}</li>
      <li>고객 주소 {{item.addr}}</li>
    </ul>
    <button class="pick" type="button" data-item-res="{{item.res_no}}">
      내가 함
    </button>
  </div>
  {% endfor %}
</div>
{% endblock %} {% block content %}
<script>
  const pickArray = document.querySelectorAll(".pick");
  pickArray.forEach(async (pick) => {
    pick.addEventListener("click", async () => {
      console.log(pick.dataset.itemRes + "배송할예정");

      //   const result = await fetch("http://localhost:3000/gisa/pending", {});
    });
  });
</script>
{% endblock %}
